<html>
<head>
  <title>Parallax Wi-Fi Module Configuration</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link rel="stylesheet" type="text/css" href="style.css">
  <script type="text/javascript">

  function getSetting(name) {
    var req = new XMLHttpRequest();
    var url = '/wx/setting?name=' + name;
    req.open('GET', url, false);
    req.send();
    return req.responseText;
  }

  function patchSetting(name) {
    var element = document.getElementById(name);
    element.innerHTML = getSetting(name);
  }

    window.onload=function(e) {
      patchSetting("module-name");
      patchSetting("version");

      if (getSetting('cmd-p2-ddloader') == "0")
        document.getElementById("p2-ddloaderitem").className = "nodisplay"; 
      else 
        document.getElementById("p2-ddloaderitem").className = ""; 
    }


  </script>
</head>
<body>
<div id="page">
  <div id="header">
    <h1>Parallax Wi-Fi Module Configuration</h1>
  </div>
  <div id="main" class="clearfix">
    <div id="content">
      <h2>Module Name: <span id="module-name"></span></h2>
      <h2>Version: <span id="version"></span></h2>
    </div>
    <nav id='navigation'>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="wifi/wifi.html">Networks</a></li>
        <li><a href="update-ffs.html">Files</a></li>
        <li id="p2-ddloaderitem" class="nodisplay"><a href="p2-ddloader.html">P2 Drag/Drop Loader</a></li>
        <li><a href="settings.html">Settings</a></li>
        <li><a href="flash/index.html">Firmware</a></li>
        <li><a href="log.html">Debug Log</a></li>
      </ul>
    </nav>
  </div>
  <div id="ack"><p>Based on ESP-HTTPD by Jeroen Domburg and ESP-LINK by Thorsten von Eicken</p></div>
  <div id="footer">
    <a href="https://www.parallax.com">
      <img src="logo.png">
    </a>
  </div>
</div>

</body>
</html>
